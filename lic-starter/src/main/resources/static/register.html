<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>用户注册</title>
    <meta name="robots" content="all"/>
    <!-- <script>
         function display() {
             alert("注册功能正在维护中......");
         }
     </script>-->
</head>
<body>
<br/>
<br/>
<form method="" action="post" name="form" id="form" class="form-div">
    <div style="text-align: center;">
        <img src="" style="width: 150px;"/>
    </div>
    <p class="message">在这个站点注册</p>
    <div>
        <label>用户名</label>
        <input type="text" id="username" name="username" class="inputText" placeholder="请输入您的用户名"/>
    </div>
    <div>
        <label>昵称</label>
        <input type="text" id="nickname" name="nickname" class="inputText" placeholder="请输入您的昵称"/>
    </div>
    <div>
        <label>密码</label>
        <input type="password" id="password" name="password" class="inputText" placeholder="请输入您的密码"/>
        </span>
    </div>

    <div>
        <label>性别</label>
        <select  class="inputText" name="sex" id="sex"></select>
    </div>

    <div>
        <label>手机号</label>
        <input type="text" id="phone" name="phone" class="inputText" placeholder="请输入您的手机号"/>
    </div>
    <div>
        <label>电话</label>
        <input type="text" id="telephone" name="telephone" class="inputText" placeholder="请输入您的电话"/>
    </div>
    <div>
        <label>电子邮箱</label>
        <input type="email" id="email" name="email" class="inputText" placeholder="请输入您的电子邮箱" />
    </div>
    <div>
        <label>生日</label>
        <input type="datetime-local" id="birthday" name="birthday" class="inputText" placeholder="请输入您的生日"/>
    </div>
    <div style="text-align: center;">
        <input value="注 册" type="button" style="margin-right:20px; margin-top:20px;" onclick="add()" class="button">
        <input value="我有账号，我要登录" type="button" style="margin-right:45px; margin-top:20px;" class="button"
               onclick="window.location.href = '/login.html'">
    </div>
</form>
<link href="css/register-css.css" rel="stylesheet"/>
<script type="text/javascript" src="js/libs/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="js/common.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" media="screen" href="layui/css/layui.css">
<script type="text/javascript" src="js/dict.js"></script>
<script type="text/javascript" src="layui/layui.js"></script>

<script type="text/javascript">
    showDictSelect("sex", "sex");
    layui.use(['layer','laydate'], function(){
        var layer = layui.layer;
    });
    function add() {
        var formdata = $("#form").serializeObject();
        $.ajax({
            type: 'post',
            url: '/users/register',
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(formdata),
            success: function (data) {
                layer.msg("添加成功", {shift: -1, time: 1000}, function () {
                    location.href = "login.html";
                });
            },
            error:function (xhr,status,error) {
                layer.msg(xhr.responseText, {shift: -1, time: 1000});
            }
        });
    }
</script>
</body>
</html>
